<!DOCTYPE doctype PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
                    
  <meta http-equiv="Content-Type"
 content="text/html; charset=iso-8859-1">
                    
  <meta name="GENERATOR"
 content="Mozilla/4.75 [de]C-CCK-MCD DT  (WinNT; U) [Netscape]">
                    
  <meta name="Author" content="Jan Lessner, jan.lessner@mathema.de">
  <title>PriDE Quickstart</title>
                                 
  <link rel="stylesheet" type="text/css" href="PriDE.css" title="Style">
           
  <meta name="author" content="Jan Lessner">
</head>
  <body text="#000000" bgcolor="#ffffff" link="#0000ef" vlink="#59188e"
 alink="#ff0000">
          
<h1> PriDE Quickstart</h1>
          
<hr width="100%">     
<h2>Up and working in 15 minutes</h2>
     
<p>This short tutorial allows a quick introduction into the general working
 principles of PriDE, based on a simple example. It takes less than 15 minutes
 to set up a primitive PriDE application which allows to perform basic operations
 on a simple database table. The directory <a
 href="../examples/quickstart"><tt>examples/quickstart</tt></a> contains
the complete source code f&uuml;r the tutorial example.<br>
  Setting up an application includes the following steps:<br>
   </p>
     
<ul>
     <li type="square"><a href="#Preparing_the_environment">Preparing the 
environment</a></li>
     <li type="square"><a href="#Database_configuration">Database configuration</a></li>
     <li type="square"><a href="#Writing_or_generating_entity_classes">Writing 
or generating entity classes</a></li>
     <li type="square"><a href="#Writing_application_classes">Writing application 
classes</a></li>
     <li type="square"><a href="#Calling_the_application">Calling the application</a><br>
     </li>
     
</ul>
  I.e. there's only 3 minutes time for each step now, so let's hurry up ;-)<br>
   <br>
        
<hr width="100%" size="2">   
<h2><a name="Preparing_the_environment"></a>Preparing the environment</h2>
  Working with PriDE requires to add the library <tt>pride.jar</tt> into
the  CLASSPATH of the working environment, as well as the JDBC driver of
the database  to access. E.g. in case of a MySQL 4 database this is the library
<tt>mysql-connector-java-2.0.14-bin.jar</tt>,  for Oracle 9 the file <tt>ojdbc14.jar</tt>.<br>
     
<h2><a name="Database_configuration"></a>Database configuration</h2>
  In the next step, the required database tables must be created. PriDE does
 not provide its own tool for that but assumes one being included in the
database  installation. If nothing appropriate is available, the open source
tool <a href="http://www.isqlviewer.com">iSQL</a>  can be used which is suitable
for configuration of all common databases. The tutorial examples uses a database
table according to the following definition:     
<table cellspacing="10" cellpadding="10" bgcolor="#ffffcc">
    <caption>&nbsp; <br>
     </caption><tbody>
       <tr>
    <td><tt>create table customer (<br>
   &nbsp; id integer not null primary key,<br>
   &nbsp; name varchar(20),<br>
   &nbsp; first_name varchar(30)<br>
   );</tt>                     
      <p></p>
         </td>
    </tr>
             
  </tbody>   
</table>
   <br>
     
<h2><a name="Writing_or_generating_entity_classes"></a>Writing or generating
 entity classes</h2>
  Accessing a table via PriDE requires a corresponding entity class (usually
 a simple Java Bean) and a mapping descriptor object. 1:1 mappings of a database
 table to a Java class can be generated with a code generator provided with
 PriDE. For the table CUSTOMER above, the source code for an entity class
<tt>Customer.java</tt> and an incorporated descriptor can be generated by
the following call:      
<table cellspacing="10" cellpadding="10" bgcolor="#ffffcc">
     <caption>&nbsp; <br>
     </caption><tbody>
       <tr>
    <td><tt>java de.mathema.pride.util.CreateTableTemplate &lt;driver class&gt; 
 &lt;database url&gt; &lt;user&gt; &lt;password&gt;&nbsp; customer Customer 
 &gt; Customer.java</tt></td>
    </tr>
             
  </tbody>    
</table>
    <br>
  The generated class must usually be cleaned up a little by hand. For the 
tutorial example under <tt>examples/quickstart</tt> the settled entity class 
<a href="../examples/quickstart/Customer.java"><tt>Customer.java</tt></a> 
looks like this:      
<table cellspacing="10" cellpadding="10" bgcolor="#ffffcc">
     <caption>&nbsp; <br>
     </caption><tbody>
       <tr>
    <td><tt>package quickstart;<br>
         <br>
   import de.mathema.pride.*;<br>
         <br>
   public class Customer extends MappedObject {<br>
   &nbsp;&nbsp;&nbsp; private int id;<br>
   &nbsp;&nbsp;&nbsp; private String name;<br>
   &nbsp;&nbsp;&nbsp; private String firstname;<br>
         <br>
   &nbsp;&nbsp;&nbsp; public int getId() { return id; }<br>
   &nbsp;&nbsp;&nbsp; public String getFirstname() { return firstname; }<br>
   &nbsp;&nbsp;&nbsp; public String getName() { return name; }<br>
         <br>
   &nbsp;&nbsp;&nbsp; public void setId(int val) { id = val; }<br>
   &nbsp;&nbsp;&nbsp; public void setFirstname(String val) { firstname =
val;  }<br>
   &nbsp;&nbsp;&nbsp; public void setName(String val) { name = val; }<br>
         <br>
   &nbsp;&nbsp;&nbsp; public Customer(int id, String name, String firstname) 
 {<br>
   &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; this.id = id;<br>
   &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; this.name = name;<br>
   &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; this.firstname = firstname;<br>
   &nbsp;&nbsp;&nbsp; }<br>
         <br>
   &nbsp;&nbsp;&nbsp; public static RecordDescriptor red = new RecordDescriptor<br>
   &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; (Customer.class, "customer", null, 
 new String[][] {<br>
   &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; { "id", "getId", 
 "setId" },<br>
   &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; { "first_name", 
 "getFirstname", "setFirstname" },<br>
   &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; { "name", "getName", 
 "setName" },<br>
   &nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; });<br>
   &nbsp;&nbsp;&nbsp; public RecordDescriptor getDescriptor() { return red; 
 }<br>
         <br>
   }</tt><br>
         </td>
    </tr>
             
  </tbody>    
</table>
   <br>
     
<h2><a name="Writing_application_classes"></a>Writing application classes</h2>
  Based on the entity classes, the actual application can be designed. First
 of all the PriDE runtime library must be initialized as demonstrated for 
J2SE applications by the following source code.       
<table cellspacing="10" cellpadding="10" bgcolor="#ffffcc">
      <caption>&nbsp; <br>
     </caption><tbody>
       <tr>
    <td><tt>Properties props = System.getProperties();<br>
   ResourceAccessorJ2SE accessor = new ResourceAccessorJ2SE(props);<br>
   DatabaseFactory.setResourceAccessor(accessor);<br>
   DatabaseFactory.setDatabaseName(props.getProperty("pride.db"));</tt><br>
         </td>
    </tr>
             
  </tbody>    
</table>
     <br>
  The actual database operations are performed by invoking corresponding
member  functions of the entity classes, e.g.        
<table cellspacing="10" cellpadding="10" bgcolor="#ffffcc">
       <caption>&nbsp; <br>
     </caption><tbody>
       <tr>
    <td><tt>private void create(int id, String name, String firstName)<br>
   &nbsp;&nbsp;&nbsp; throws SQLException {<br>
   &nbsp;&nbsp;&nbsp; Customer c = new Customer(id, name, firstName);<br>
   &nbsp;&nbsp;&nbsp; c.create();<br>
   }<br>
         <br>
   private void update(int id, String name, String firstName)<br>
   &nbsp;&nbsp;&nbsp; throws SQLException {<br>
   &nbsp;&nbsp;&nbsp; Customer c = new Customer(id, name, firstName);<br>
   &nbsp;&nbsp;&nbsp; c.update();<br>
   }<br>
         <br>
   private void queryByName( String name )<br>
   &nbsp;&nbsp;&nbsp; throws SQLException {<br>
   &nbsp;&nbsp;&nbsp; Customer c = new Customer(0, name, null);<br>
   &nbsp;&nbsp;&nbsp; ResultIterator ri = c.query(new String[] { "name" });<br>
   &nbsp;&nbsp;&nbsp; do {<br>
   &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; System.out.println(c.getId() + ":
 " + c.getName() + "," + c.getFirstname());<br>
   &nbsp;&nbsp;&nbsp; } while(ri.next());<br>
   }</tt><br>
    </td>
    </tr>
             
  </tbody>    
</table>
      <br>
  The tutorial example under <tt>examples/quickstart</tt> includes the file
 <a href="../examples/quickstart/CustomerClient.java"><tt>CustomerClient.java</tt></a>,
 providing an interactive test client.   
<h2><a name="Calling_the_application"></a>Calling the application</h2>
       
<p> </p>
  The PriDE initialization above is based on system properties which must 
be passed in the application invokation. E.g. calling the interactive test 
client for a local MySQL 4 test database might look like this:         
<table cellspacing="10" cellpadding="10" bgcolor="#ffffcc">
        <caption>&nbsp; <br>
     </caption><tbody>
       <tr>
    <td><tt>java -Dpride.driver=com.mysql.jdbc.Driver -Dpride.db=jdbc:mysql://localhost/test 
 quickstart.CustomerClient</tt><br>
     </td>
    </tr>
             
  </tbody>    
</table>
       <br>
    <br>
  That's it!<br>
 The tutorial example already illustrates the most important basic principles 
of PriDE. To understand what's going on behind the scenes of the 5 steps above,
it is recommended to carry on with the detailed <a
 href="PriDE-Introduction.html">introduction</a> chapter.<br>
   <br>
     
<hr width="100%">     
<table cellpadding="5">
     <tbody>
        <tr>
     <td><a href="PriDE.html">Home</a></td>
      <td><a href="PriDE-Introduction.html">Introduction</a></td>
      <td><a href="javadoc/index.html">Javadoc</a></td>
     </tr>
                 
  </tbody>    
</table>
      <br>
    <br>
   <br>
  <br>
 <br>
</body>
</html>
